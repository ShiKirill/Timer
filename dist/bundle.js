(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var t,n,o,r,i,a,c,u,l,s,d,m,f,v,h;(function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),o=document.querySelector("#timer-seconds");function r(e){return e/10<1?"0"+e:e}var i=setInterval((function(){var e,a,c,u=(e=(new Date("28 march 2021").getTime()-(new Date).getTime())/1e3,a=Math.floor(e%60),c=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60),minutes:c,seconds:a});t.textContent=r(u.hours),n.textContent=r(u.minutes),o.textContent=r(u.seconds),u.timeRemaining<=0&&(clearInterval(i),t.textContent="00",n.textContent="00",o.textContent="00")}),1e3)})(),h=document.querySelector("menu"),document.addEventListener("click",(function(e){var t=e.target;(t.closest(".menu")||"A"===t.tagName&&t.closest("menu")||h.classList.contains("active-menu")&&!t.closest("menu"))&&h.classList.toggle("active-menu")})),function(){var e=document.querySelectorAll("menu>ul>li>a"),t=document.querySelector("main>a");function n(e){var t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}t.addEventListener("click",(function(e){e.preventDefault(),n(t)})),e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),n(e)}))}))}(),function(){var e,t=document.querySelector(".popup"),n=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup-content"),r=-42;function i(){e=requestAnimationFrame(i),t.style.display="block",o.style.left="".concat(r,"rem"),r+=2,o.offsetLeft/document.documentElement.clientWidth>.38&&(o.style.left="38%",cancelAnimationFrame(e))}n.forEach((function(n){n.addEventListener("click",(function(){document.documentElement.clientWidth>=768?(r=-50,e=requestAnimationFrame(i)):(o.style.left="",t.style.display="block")}))})),t.addEventListener("click",(function(e){var n=e.target;n.classList.contains("popup-close")?t.style.display="none":(n=n.closest(".popup-content"))||(t.style.display="none")}))}(),m=document.querySelector(".service-header"),f=m.querySelectorAll(".service-header-tab"),v=document.querySelectorAll(".service-tab"),m.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab")).classList.contains("service-header-tab")&&f.forEach((function(e,n){e===t&&function(e){for(var t=0;t<v.length;t++)e===t?(f[t].classList.add("active"),v[t].classList.remove("d-none")):(f[t].classList.remove("active"),v[t].classList.add("d-none"))}(n)}))})),function(){for(var e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-dots"),n=0;n<e.length;n++)t.innerHTML+='<li class="dot"></li>',0===n&&t.firstElementChild.classList.add("dot-active")}(),r=document.querySelectorAll(".portfolio-item"),i=document.querySelectorAll(".dot"),a=document.querySelector(".portfolio-content"),c=0,u=function(e,t,n){e[t].classList.remove(n)},l=function(e,t,n){e[t].classList.add(n)},s=function(){u(r,c,"portfolio-item-active"),u(i,c,"dot-active"),++c>=r.length&&(c=0),l(r,c,"portfolio-item-active"),l(i,c,"dot-active")},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;o=setInterval(s,e)},a.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(u(r,c,"portfolio-item-active"),u(i,c,"dot-active"),t.matches("#arrow-right")?c++:t.matches("#arrow-left")?c--:t.matches(".dot")&&i.forEach((function(e,n){e===t&&(c=n)})),c>=r.length&&(c=0),c<0&&(c=r.length-1),l(r,c,"portfolio-item-active"),l(i,c,"dot-active"))})),a.addEventListener("mouseover",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&clearInterval(o)})),a.addEventListener("mouseout",(function(e){var t=e.target;(t.matches(".portfolio-btn")||t.matches(".dot"))&&d()})),d(),t=document.getElementById("command").querySelectorAll("img"),n=function(e){var t=e.getAttribute("src");e.setAttribute("src",e.dataset.img),e.dataset.img=t},t.forEach((function(e){e.addEventListener("mouseenter",(function(){n(e)})),e.addEventListener("mouseleave",(function(){n(e)}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),o=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),i=document.querySelector(".calc-count"),a=document.getElementById("total"),c=function(){var t=0,c=1,u=1,l=n.options[n.selectedIndex].value,s=+o.value;if(i.value>1&&(c+=(i.value-1)/10),r.value&&r.value<5?u*=2:r.value&&r.value<10&&(u*=1.5),l&&s&&(t=e*l*s*c*u),0===t)a.textContent=t;else{var d=1;!function n(){var o=requestAnimationFrame(n);d<t?a.textContent=d:(a.textContent=t,cancelAnimationFrame(o)),d+=Math.floor(e*s*u*c*.03)}()}};t.addEventListener("input",(function(e){var t=e.target;t.matches("input")&&(t.value=t.value.replace(/\D/,""))})),t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&c()}))}(100),function(){var e=document.querySelector(".footer-form-input"),t=e.querySelectorAll("input"),n=document.querySelector(".main-form-input"),o=n.querySelectorAll("input"),r=document.getElementById("form3"),i=r.querySelectorAll("input"),a=function(e){"form2-name"===e.getAttribute("id")||"form1-name"===e.getAttribute("id")||"form3-name"===e.getAttribute("id")?e.value=e.value.replace(/[^а-яё -%]/gi,""):"form2-email"===e.getAttribute("id")||"form1-email"===e.getAttribute("id")||"form3-email"===e.getAttribute("id")?e.value=e.value.replace(/[^a-z@_.!~*'-]/gi,""):"form2-phone"===e.getAttribute("id")||"form1-phone"===e.getAttribute("id")||"form3-phone"===e.getAttribute("id")?e.value=e.value.replace(/[^+0-9]/,""):"form2-message"!==e.getAttribute("id")&&"form1-message"!==e.getAttribute("id")&&"form3-message"!==e.getAttribute("id")||(e.value=e.value.replace(/[^а-яё0-9 -,.;:!?]/gi,""))};n.addEventListener("input",(function(e){var t=e.target;a(t)})),e.addEventListener("input",(function(e){var t=e.target;a(t)})),r.addEventListener("input",(function(e){var t=e.target;a(t)}));var c=function(e){e.addEventListener("blur",(function(){a(e),e.value=e.value.replace(/\s+/g," "),e.value=e.value.replace(/[-]+/g,"-"),e.value=e.value.replace(/^[\s+]/,""),e.value=e.value.replace(/[\s+]$/,""),"form2-name"!==e.getAttribute("id")&&"form1-name"!==e.getAttribute("id")&&"form3-name"!==e.getAttribute("id")||(e.value=e.value.replace(/\S+/gi,(function(e){return e[0].toUpperCase()+e.substr(1)})))}))};o.forEach((function(e){c(e)})),t.forEach((function(e){c(e)})),i.forEach((function(e){c(e)}))}(),function(){var t=document.createElement("style");t.textContent="\n.sk-three-bounce {\n  width: 8em;\n  margin: auto;\n  text-align: center;\n}\n.sk-three-bounce .sk-child {\n  width: 2em;\n  height: 2em;\n  background-color: #337ab7;\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-three-bounce 1.4s ease-in-out 0s infinite both;\n  animation: sk-three-bounce 1.4s ease-in-out 0s infinite both;\n}\n.sk-three-bounce .sk-bounce-1 {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n.sk-three-bounce .sk-bounce-2 {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n\n@keyframes sk-three-bounce {\n  0%, 80%, 100% {\n  transform: scale(0);\n  }\n  40% {\n  transform: scale(1.0);\n  }\n}\n";var n=document.getElementById("form1"),o=document.getElementById("form2"),r=document.getElementById("form3"),i=document.createElement("div");i.style.cssText="font-size: 2rem; color: white;";var a=function(n){n.addEventListener("submit",(function(o){o.preventDefault(),n.appendChild(i);var r,a={},u=function(t,n){var o;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(o=function(t,n){if(t){if("string"==typeof t)return e(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){o&&(t=o);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,u=!1;return{s:function(){o=t[Symbol.iterator]()},n:function(){var e=o.next();return c=e.done,e},e:function(e){u=!0,a=e},f:function(){try{c||null==o.return||o.return()}finally{if(u)throw a}}}}(new FormData(n).entries());try{for(u.s();!(r=u.n()).done;){var l=r.value;a[l[0]]=l[1]}}catch(e){u.e(e)}finally{u.f()}document.head.appendChild(t),c(a).then((function(e){if(200!==e.status)throw new Error("status network not 200");i.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(e){i.textContent="Что-то пошло не так...",console.error(e)})),n.querySelectorAll("input").forEach((function(e){e.value=""}))}))};a(n),a(o),a(r);var c=function(e){return i.innerHTML='\n          <div class="sk-three-bounce">\n              <div class="sk-bounce-1 sk-child"></div>\n              <div class="sk-bounce-2 sk-child"></div>\n              <div class="sk-bounce-3 sk-child"></div>\n          </div>\n          ',fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}()})();